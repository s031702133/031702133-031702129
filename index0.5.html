<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>tree</title>
		<style>
			textarea {
			  width: 500px;
			  height: 300px;
			  padding: 12px 20px;
			  box-sizing: border-box;
			  border: 2px solid #ccc;
			  border-radius: 4px;
			  background-color: #f8f8f8;
			  font-size: 16px;
			  resize: none;
			}
		</style>
	</head>
	
	
	<body>
		<script>
			var tree=new Array();
			 var root=new Array();//存放小数组
			 var branch=new Array();//存放xx级xx生，与root对应
			 var leaves=new Array();
			 //root[0]和brach[0]均为空
			 //将输入数据存放到数组里
			function cut(tree1)
			{
				 tree=tree1.split("\n");
				 console.log(tree);
				   for(i=1;i<tree.length;i++)
				   {
					    var str=new Array();//str = 2017级博士生 , 天一、王二、吴五
						str=tree[i].split("：");
						branch[i]=str[0];
					   	 
					   	  leaves=str[1].split("、");//leaves=天一,王二,吴五
						  root[i]=leaves;
						   // console.log(root[i]);
				     }
					 console.log(root);
					 console.log(branch);
					 build();
			}
			
			
			// 获取输入数据
			function treestring(){
				var text;
				text = document.getElementById("input").value;
				cut(text);
				// document.getElementById("demo").innerHTML = text;
				// document.getElementById("demo").innerHTML = text.split("\n");
				}
				// 创建div
			// function mydiv(){
			// 	for(i=1;i<branch.length;i++)
			// 	{
			// 		var para=document.createElement("div");
			// 		var node=document.createTextNode(branch[i]);
			// 		para.appendChild(node);
			// 		var element=document.getElementById("div1");
			// 		element.appendChild(para);
			// 	}
			// 	}
			function build()
			{
				mydiv(tree[0],"h1");
				 for(i=1;i<branch.length;i++)
				 {
					mydiv(branch[i],"h3");
					leaves=root[i];
					for(j=0;j<leaves.length;j++)
					{
						mydiv(leaves[j],"p");
					}
				 }
			}
			
			function mydiv(data1,data2)
			{
				var para=document.createElement(data2);
				var node=document.createTextNode(data1);
				para.appendChild(node);
				var element=document.getElementById("div1");
				element.appendChild(para);
			}
		</script>
		
		<textarea id="input" ></textarea>	
		<button type="button" onclick="treestring()">创建一个树</button>
		
		<!-- <button type="button" onclick="mydiv()">创建div</button> -->
		
		<div id="div1"></div>
	</body>
</html>
